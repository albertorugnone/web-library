{"version":3,"sources":["library.coffee","components/catalog/catalog.coffee","components/login/login.coffee"],"names":[],"mappings":"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","file":"app.js","sourcesContent":["class Library then constructor: -> return [\n  'ui.router'\n  'templates'\n  'library.login'\n  'library.catalog'\n]\n\nclass LibraryRunner\n  constructor: () ->\n\nclass LibraryConfiguration\n  constructor: (\n    $stateProvider,\n    $urlRouterProvider,\n    $locationProvider,\n    $httpProvider,\n    $logProvider) ->\n\n    $logProvider.debugEnabled(true)\n\n#interceptor disabled for simplicity\n#    $httpProvider.interceptors.push('HTTPErrorsFactory')\n\n    # Disable caching for IE\n    $httpProvider.defaults.headers.get = {} unless $httpProvider.defaults.headers.get\n    $httpProvider.defaults.headers.get['If-Modified-Since'] = '0'\n\n    $locationProvider\n      .html5Mode off\n\n    $urlRouterProvider\n      .otherwise '/login'\n\n    $stateProvider\n      .state 'login',\n        url: '/login'\n        views:\n          'template':\n            controller: 'libraryLoginController'\n            templateUrl: 'components/login/login.html'\n\n      .state 'catalog',\n        url: '/catalog'\n        views:\n          'template':\n            controller: 'libraryCatalogController'\n            templateUrl: 'components/catalog/catalog.html'\n\n\nclass LibraryInit\n  constructor: ($log) ->\n    $log \"[LibraryInit] : Library application starting\"\n\n\n\n\n\nangular.module('library', new Library())\n.run([LibraryRunner])\n.config(['$stateProvider', '$urlRouterProvider', '$locationProvider', '$httpProvider', '$logProvider', LibraryConfiguration])\n.controller('libraryInitController', ['$log', LibraryInit])","class Catalog then constructor: -> return ['ui.router']\n\nclass LibraryCatalog\n  constructor: ($log, $scope, CatalogResources) ->\n    $log.debug '[LibraryCatalog] catalog started'\n\n    $scope.selected_author = undefined\n\n   # $log.debug '[LibraryCatalog] loading authors'#\n\n#    $scope.authors = [\n#      { \"name\": \"Mario Rossi\",  \"age\": 39, \"nickname\":\"Mr Mario\", \"id\":\"1\" }\n#      { \"name\": \"Mario Rossi 1\",  \"age\": 39, \"nickname\":\"Mr Mario\", \"id\":\"2\" }\n#      { \"name\": \"Mario Rossi 2\",  \"age\": 39, \"nickname\":\"Mr Mario\", \"id\":\"3\" }\n#      { \"name\": \"Mario Rossi 3\",  \"age\": 39, \"nickname\":\"Mr Mario\", \"id\":\"4\" }\n#      { \"name\": \"Mario Rossi 4\",  \"age\": 39, \"nickname\":\"Mr Mario\", \"id\":\"5\" }\n#    ]\n\n    CatalogResources.loadAuthors().then (resp) ->\n      $log.debug '[LibraryCatalog] loaded'\n      $scope.authors = resp\n\n    $log.debug $scope.authors\n\n    $scope.select = (author) ->\n      $scope.selected_author = author\n      $log.debug '[LibraryCatalog] author selected is ' + author.name\n\n    $scope.isSelected = (author) -> author?.id == $scope.selected_author?.id\n\n\n# Util factory\nclass CatalogResources then constructor: ($log, $http) ->\n  factory = {\n    loadAuthors: (scope) ->\n      $http.get('v1/authors').then (resp) ->\n        resp.data\n  }\n\n  return factory\n\n\nangular.module('library.catalog', new Catalog())\n.controller('libraryCatalogController', ['$log', '$scope', 'CatalogResources', LibraryCatalog])\n.factory('CatalogResources', ['$log', '$http', CatalogResources])","class Login then constructor: -> return ['ui.router', 'ui.bootstrap']\n\nclass LibraryLogin\n  constructor: ($scope, $modal, $log, $state) ->\n    $scope.user = {}\n\n    $scope.login = () ->\n      $log.debug '[LibraryLogin] scope user email: ' + $scope.user.email\n      $log.debug '[LibraryLogin] scope user password: ' + $scope.user.password\n\n#      $modal.open\n#        animation: true\n#        templateUrl: 'components/login/welcome.html'\n#        controller: 'libraryLoginController'\n#        resolve: {\n#          user: () ->\n#            $log.debug '[LibraryLogin.Modal] user ' + $scope.user.email\n#            return $scope.user\n#        }#\n\n#      return\n      $log.debug '[LibraryLogin] going to catalog'\n      $state.go 'catalog'\n      return\n\n    $scope.openCatalog = () ->\n      $log.debug '[LibraryLogin] going to catalog'\n      $state.go ' catalog'\n\nangular.module('library.login', new Login())\n.controller('libraryLoginController', ['$scope', '$modal', '$log', '$state', LibraryLogin])"],"sourceRoot":"/source/"}